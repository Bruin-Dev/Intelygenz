{
    "widgets":[
        {
            "type":"metric",
            "x":0,
            "y":0,
            "width":6,
            "height":6,
            "properties":{
                "metrics":[
                    [
                        "ECS/ContainerInsights",
                        "RunningTaskCount",
                        "ServiceName",
                        "automation-${ENVIRONMENT}-service-outage-triage",
                        "ClusterName",
                        "automation-${ENVIRONMENT}",
                        {
                            "period":300,
                            "stat":"Average"
                        }
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-metrics-prometheus",
                        ".",
                        ".",
                        {
                            "period":300,
                            "stat":"Average"
                        }
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-service-outage-monitor",
                        ".",
                        ".",
                        {
                            "period":300,
                            "stat":"Average"
                        }
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-velocloud-bridge",
                        ".",
                        ".",
                        {
                            "period":300,
                            "stat":"Average"
                        }
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-last-contact-report",
                        ".",
                        ".",
                        {
                            "period":300,
                            "stat":"Average"
                        }
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-bruin-bridge",
                        ".",
                        ".",
                        {
                            "period":300,
                            "stat":"Average"
                        }
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-metrics-grafana",
                        ".",
                        ".",
                        {
                            "period":300,
                            "stat":"Average"
                        }
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-nats-server",
                        ".",
                        ".",
                        {
                            "period":300,
                            "stat":"Average"
                        }
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-service-affecting-monitor",
                        ".",
                        ".",
                        {
                            "period":300,
                            "stat":"Average"
                        }
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-t7-bridge",
                        ".",
                        ".",
                        {
                            "period":300,
                            "stat":"Average"
                        }
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-velocloud-orchestrator",
                        ".",
                        ".",
                        {
                            "period":300,
                            "stat":"Average"
                        }
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-notifier",
                        ".",
                        ".",
                        {
                            "period":300,
                            "stat":"Average"
                        }
                    ]
                ],
                "view":"timeSeries",
                "stacked":false,
                "title":"Average of Running Tasks By Service",
                "region":"us-east-1",
                "period":300
            }
        },
        {
            "type":"metric",
            "x":6,
            "y":0,
            "width":6,
            "height":6,
            "properties":{
                "view":"timeSeries",
                "stacked":false,
                "metrics":[
                    [
                        "ECS/ContainerInsights",
                        "CpuUtilized",
                        "ServiceName",
                        "automation-${ENVIRONMENT}-nats-server",
                        "ClusterName",
                        "automation-${ENVIRONMENT}"
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-bruin-bridge",
                        ".",
                        "."
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-metrics-grafana",
                        ".",
                        "."
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-last-contact-report",
                        ".",
                        "."
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-velocloud-bridge",
                        ".",
                        "."
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-service-affecting-monitor",
                        ".",
                        "."
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-notifier",
                        ".",
                        "."
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-velocloud-orchestrator",
                        ".",
                        "."
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-t7-bridge",
                        ".",
                        "."
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-metrics-prometheus",
                        ".",
                        "."
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-service-outage-monitor",
                        ".",
                        "."
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-service-outage-triage",
                        ".",
                        "."
                    ]
                ],
                "region":"us-east-1",
                "title":"Average of CpuUtilized by Service",
                "period":300
            }
        },
        {
            "type":"metric",
            "x":12,
            "y":0,
            "width":6,
            "height":6,
            "properties":{
                "metrics":[
                    [
                        "ECS/ContainerInsights",
                        "MemoryUtilized",
                        "ServiceName",
                        "automation-${ENVIRONMENT}-metrics-grafana",
                        "ClusterName",
                        "automation-${ENVIRONMENT}",
                        {
                            "stat":"Average"
                        }
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-bruin-bridge",
                        ".",
                        "."
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-last-contact-report",
                        ".",
                        "."
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-service-affecting-monitor",
                        ".",
                        "."
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-notifier",
                        ".",
                        "."
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-velocloud-orchestrator",
                        ".",
                        "."
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-velocloud-bridge",
                        ".",
                        "."
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-service-outage-monitor",
                        ".",
                        "."
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-service-outage-triage",
                        ".",
                        "."
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-t7-bridge",
                        ".",
                        "."
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-metrics-prometheus",
                        ".",
                        "."
                    ],
                    [
                        "...",
                        "automation-${ENVIRONMENT}-nats-server",
                        ".",
                        "."
                    ]
                ],
                "view":"timeSeries",
                "stacked":false,
                "region":"us-east-1",
                "title":"Average of MemoryUtilized by Service",
                "period":300
            }
        },
        {
            "type":"log",
            "x":0,
            "y":6,
            "width":24,
            "height":6,
            "properties":{
                "query":"SOURCE 'automation-${ENVIRONMENT}' | fields @timestamp, @message as msg_error | filter @message like /edge_monitoring: ERROR/",
                "region":"us-east-1",
                "title":"Error messages detected in edge_monitoring service",
                "view":"table"
            }
        },
        {
            "type":"log",
            "x":0,
            "y":12,
            "width":24,
            "height":6,
            "properties":{
                "query":"SOURCE 'automation-${ENVIRONMENT}' | fields @timestamp, @message | filter @message like /Exception/",
                "region":"us-east-1",
                "stacked":false,
                "view":"table",
                "title":"Exception messages detected in services"
            }
        },
        {
            "type":"log",
            "x":0,
            "y":18,
            "width":24,
            "height":6,
            "properties":{
                "query":"SOURCE 'automation-${ENVIRONMENT}' | fields @timestamp, @message as msg_error | filter @message like \": ERROR\"",
                "region":"us-east-1",
                "title":"Error messages detected in services",
                "view":"table"
            }
        }
    ]
}
## Requirements

| Name | Version |
|------|---------|
| aws | =2.49.0 |
| external | = 1.2 |
| null | = 2.1 |
| template | = 2.1 |

## Providers

| Name | Version |
|------|---------|
| aws | =2.49.0 |
| external | = 1.2 |
| null | = 2.1 |
| template | = 2.1 |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| ALARMS\_SUBSCRIPTIONS\_EMAIL\_ADDRESS | Email addresses to send notifications generated by alarm of errors and exceptions detected in services | `string` | `"xoan.mallon@intelygenz.com"` | no |
| BILLING\_RECIPIENT\_REPORT | n/a | `string` | `""` | no |
| BRUIN\_BASE\_URL | n/a | `string` | `""` | no |
| BRUIN\_CLIENT\_ID | n/a | `string` | `""` | no |
| BRUIN\_CLIENT\_SECRET | n/a | `string` | `""` | no |
| BRUIN\_LOGIN\_URL | n/a | `string` | `""` | no |
| BUILD\_NUMBER | n/a | `string` | `"latest"` | no |
| CTS\_CLIENT\_ID | n/a | `string` | `""` | no |
| CTS\_CLIENT\_PASSWORD | n/a | `string` | `""` | no |
| CTS\_CLIENT\_SECRET | n/a | `string` | `""` | no |
| CTS\_CLIENT\_SECURITY\_TOKEN | n/a | `string` | `""` | no |
| CTS\_CLIENT\_USERNAME | n/a | `string` | `""` | no |
| CTS\_DOMAIN | n/a | `string` | `""` | no |
| CTS\_LOGIN\_URL | n/a | `string` | `""` | no |
| CURRENT\_ENVIRONMENT | Name of the environment to identify the network resources to be used | `string` | `"dev"` | no |
| CUSTOMER\_NAME\_BILLING\_REPORT | n/a | `string` | `""` | no |
| DISPATCH\_PORTAL\_SERVER\_PORT | n/a | `string` | `""` | no |
| EMAIL\_ACC\_PWD | n/a | `string` | `""` | no |
| ENVIRONMENT | Name of current environment | `any` | n/a | yes |
| ENVIRONMENT\_NAME | Name of current environment without automation prefix | `any` | n/a | yes |
| KRE\_BASE\_URL | n/a | `string` | `""` | no |
| LAST\_CONTACT\_RECIPIENT | n/a | `string` | `""` | no |
| LIT\_CLIENT\_ID | n/a | `string` | `""` | no |
| LIT\_CLIENT\_PASSWORD | n/a | `string` | `""` | no |
| LIT\_CLIENT\_SECRET | n/a | `string` | `""` | no |
| LIT\_CLIENT\_SECURITY\_TOKEN | n/a | `string` | `""` | no |
| LIT\_CLIENT\_USERNAME | n/a | `string` | `""` | no |
| LIT\_DOMAIN | n/a | `string` | `""` | no |
| LIT\_LOGIN\_URL | n/a | `string` | `""` | no |
| LOGS\_RETENTION\_PERIOD | n/a | `map` | <pre>{<br>  "dev": 14,<br>  "production": 90<br>}</pre> | no |
| LUMIN\_TOKEN | n/a | `string` | `""` | no |
| LUMIN\_URI | n/a | `string` | `""` | no |
| MONITORING\_SECONDS | n/a | `string` | `"600"` | no |
| NATS\_MODULE\_VERSION | n/a | `string` | `"latest"` | no |
| NATS\_SERVER\_1\_CLIENTS\_PORT | Port for clients in NATS seed node 1 | `string` | `"4223"` | no |
| NATS\_SERVER\_1\_CLUSTER\_MODE | NATS server 1 node cluster mode | `string` | `"n"` | no |
| NATS\_SERVER\_1\_CLUSTER\_PORT | NATS server 1 cluster port | `number` | `5223` | no |
| NATS\_SERVER\_2\_CLIENTS\_PORT | Port for clients in NATS seed node 2 | `string` | `"4224"` | no |
| NATS\_SERVER\_2\_CLUSTER\_MODE | NATS server 2 node cluster mode | `string` | `"n"` | no |
| NATS\_SERVER\_2\_CLUSTER\_PORT | NATS server 2 cluster port | `number` | `5224` | no |
| NATS\_SERVER\_SEED\_CLIENTS\_PORT | Port for clients in NATS seed node | `string` | `"4222"` | no |
| NATS\_SERVER\_SEED\_CLUSTER\_MODE | NATS seed node cluster mode | `string` | `"s"` | no |
| NATS\_SERVER\_SEED\_CLUSTER\_PORT | NATS edge server cluster port | `number` | `5222` | no |
| PAPERTRAIL\_HOST | Papertrail address to which the logs of the microservices with the send to papertrail flag will be sent | `string` | `""` | no |
| PAPERTRAIL\_PORT | Papertrail host to which the logs of the microservices with the send to papertrail flag will be sent | `number` | `0` | no |
| PYTHONUNBUFFERED | n/a | `number` | `1` | no |
| SERVICE\_OUTAGE\_MONITOR\_1\_HOSTS | Velocloud hosts for outage monitoring # 1 | `string` | n/a | yes |
| SERVICE\_OUTAGE\_MONITOR\_1\_HOSTS\_FILTER | Velocloud hosts filter for outage monitoring # 1 | `string` | n/a | yes |
| SERVICE\_OUTAGE\_MONITOR\_2\_HOSTS | Velocloud hosts for outage monitoring # 2 | `string` | n/a | yes |
| SERVICE\_OUTAGE\_MONITOR\_2\_HOSTS\_FILTER | Velocloud hosts filter for outage monitoring # 2 | `string` | n/a | yes |
| SERVICE\_OUTAGE\_MONITOR\_3\_HOSTS | Velocloud hosts for outage monitoring # 3 | `string` | n/a | yes |
| SERVICE\_OUTAGE\_MONITOR\_3\_HOSTS\_FILTER | Velocloud hosts filter for outage monitoring # 3 | `string` | n/a | yes |
| SERVICE\_OUTAGE\_MONITOR\_4\_HOSTS | Velocloud hosts for outage monitoring # 3 | `string` | n/a | yes |
| SERVICE\_OUTAGE\_MONITOR\_4\_HOSTS\_FILTER | Velocloud hosts filter for outage monitoring # 3 | `string` | n/a | yes |
| SLACK\_URL | webhook url of slack for current environment | `any` | n/a | yes |
| SUBDOMAIN | n/a | `any` | n/a | yes |
| T7\_BASE\_URL | n/a | `string` | `""` | no |
| T7\_TOKEN | n/a | `string` | `""` | no |
| TELESTAX\_ACCOUNT\_SID | Notifier telestax account sid | `string` | `""` | no |
| TELESTAX\_AUTH\_TOKEN | Notifier telestax auth token | `string` | `""` | no |
| TELESTAX\_FROM\_PHONE\_NUMBER | Notifier telestax from phone number | `string` | `""` | no |
| TELESTAX\_URL | Notifier telestax url | `string` | `""` | no |
| VELOCLOUD\_CREDENTIALS | n/a | `string` | `""` | no |
| VELOCLOUD\_VERIFY\_SSL | n/a | `string` | `"yes"` | no |
| bruin-bridge-task-definition-json | Task definition arn output in rendered json for bruin-bridge | `string` | `"/tmp/bruin-bridge-task-definition.json"` | no |
| bruin\_bridge\_desired\_tasks | Number of desired tasks of microservice bruin-bridge | `number` | `2` | no |
| cidr\_base | n/a | `map` | <pre>{<br>  "dev": "172.31.84.0/22",<br>  "production": "10.1.0.0/16"<br>}</pre> | no |
| cts-bridge-task-definition-json | Task definition arn output in rendered json for CTS-bridge | `string` | `"/tmp/cts-bridge-task-definition.json"` | no |
| cts\_bridge\_desired\_tasks | Number of desired tasks of microservice cts-bridge | `number` | `1` | no |
| customer-cache-task-definition-json | Task definition arn output in rendered json for customer-cache | `string` | `"/tmp/customer-cache-task-definition.json"` | no |
| customer\_cache\_desired\_tasks | Number of desired tasks of microservice customer-cache | `number` | `1` | no |
| dispatch-portal-backend-task-definition-json | Task definition arn output in rendered json for CTS-bridge | `string` | `"/tmp/dispatch-portal-backend-task-definition.json"` | no |
| dispatch\_portal\_backend\_desired\_tasks | Number of desired tasks of microservice dispatch-portal-backend | `number` | `1` | no |
| dispatch\_portal\_frontend\_desired\_tasks | Number of desired tasks of microservice dispatch-portal-frontend | `number` | `1` | no |
| domain | n/a | `string` | `"mettel-automation.net"` | no |
| last\_contact\_report\_desired\_tasks | Number of desired tasks of microservice last-contact-report | `number` | `1` | no |
| lit-bridge-task-definition-json | Task definition arn output in rendered json for lit-bridge | `string` | `"/tmp/lit-bridge-task-definition.json"` | no |
| lit\_bridge\_desired\_tasks | Number of desired tasks of microservice lit-bridge | `number` | `1` | no |
| lumin\_billing\_report\_desired\_tasks | Number of desired tasks of microservice lumin-billing-report | `number` | `1` | no |
| metrics-prometheus-task-definition-json | Task definition arn output in rendered json for bruin-bridge | `string` | `"/tmp/metrics-prometheus-task-definition.json"` | no |
| metrics\_prometheus\_desired\_tasks | Number of desired tasks of microservice metrics-prometheus | `number` | `1` | no |
| metrics\_thanos\_store\_gateway\_desired\_tasks | Number of desired tasks of microservice metrics-thanos-store-gateway | `number` | `1` | no |
| nats-server-task-definition-json | Task definition arn output in rendered json for nats-server | `string` | `"/tmp/nats-server-taks-definition.json"` | no |
| nats\_server\_1\_desired\_tasks | Number of desired tasks of microservice nats-server-1 | `number` | `1` | no |
| nats\_server\_2\_desired\_tasks | Number of desired tasks of microservice nats-server-2 | `number` | `1` | no |
| nats\_server\_desired\_tasks | Number of desired tasks of microservice nats-server | `number` | `1` | no |
| notifier-task-definition-json | Task definition arn output in rendered json for notifier | `string` | `"/tmp/notifier-task-definition.json"` | no |
| notifier\_desired\_tasks | Number of desired tasks of microservice notifier | `number` | `1` | no |
| redis\_node\_type | n/a | `map` | <pre>{<br>  "dev": "cache.t2.micro",<br>  "production": "cache.m4.large"<br>}</pre> | no |
| redis\_node\_type\_cache\_for\_microservices | n/a | `map` | <pre>{<br>  "dev": "cache.t2.micro",<br>  "production": "cache.t2.small"<br>}</pre> | no |
| service\_affecting\_monitor\_desired\_tasks | Number of desired tasks of microservice service-affecting-monitor | `number` | `1` | no |
| service\_dispatch\_monitor\_desired\_tasks | Number of desired tasks of microservice service-dispatch-monitor | `number` | `1` | no |
| service\_outage\_monitor\_1\_desired\_tasks | Number of desired tasks of microservice service-outage-monitor # 1 | `number` | `0` | no |
| service\_outage\_monitor\_2\_desired\_tasks | Number of desired tasks of microservice service-outage-monitor # 2 | `number` | `0` | no |
| service\_outage\_monitor\_3\_desired\_tasks | Number of desired tasks of microservice service-outage-monitor # 3 | `number` | `0` | no |
| service\_outage\_monitor\_4\_desired\_tasks | Number of desired tasks of microservice service-outage-monitor # 4 | `number` | `0` | no |
| service\_outage\_monitor\_triage\_desired\_tasks | Number of desired tasks of microservice service-outage-monitor for triage | `number` | `0` | no |
| sites\_monitor\_desired\_tasks | Number of desired tasks of microservice sites-monitor | `number` | `1` | no |
| t7-bridge-task-definition-json | Task definition arn output in rendered json for t7-bridge | `string` | `"/tmp/t7-bridge-task-definition.json"` | no |
| t7\_bridge\_desired\_tasks | Number of desired tasks of microservice t7-bridge | `number` | `1` | no |
| tnba\_feedback\_desired\_tasks | Number of desired tasks of microservice tnba-feedback | `number` | `1` | no |
| tnba\_monitor\_desired\_tasks | Number of desired tasks of microservice tnba-monitor | `number` | `1` | no |
| velocloud-bridge-task-definition-json | Task definition arn output in rendered json for velocloud-bridge | `string` | `"/tmp/velocloud-bridge-task-definition.json"` | no |
| velocloud\_bridge\_desired\_tasks | Number of desired tasks of microservice velocloud-bridge | `number` | `5` | no |

## Outputs

No output.


apiVersion: v1
kind: Secret
metadata:
  name: {{ include "notifier.secretName" . }}
  labels:
    {{- include "notifier.labels" . | nindent 4 }}
  annotations:
    reloader.stakater.com/match: "true"
data:
  SLACK_WEBHOOK: {{ .Values.config.slack_webhook | b64enc }}
  EMAIL_ACCOUNT_FOR_MESSAGE_DELIVERY_USERNAME: {{ .Values.config.email_account_for_message_delivery_username | b64enc }}
  EMAIL_ACCOUNT_FOR_MESSAGE_DELIVERY_PASSWORD: {{ .Values.config.email_account_for_message_delivery_password | b64enc }}
  MONITORABLE_EMAIL_ACCOUNTS: {{ mustToJson .Values.config.monitorable_email_accounts | b64enc }}